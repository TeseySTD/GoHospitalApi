{{define "content"}}
<div class="header">
    <h1>üè• Hospital Management System</h1>
    <div class="user-info">
        <span>{{.Username}}</span>
        <span class="badge {{if .IsAdmin}}admin{{else}}reader{{end}}">{{.Role}}</span>
        <a href="/logout" class="btn btn-secondary">Logout</a>
    </div>
</div>

<nav>
    <a href="/">Home</a>
    <a href="/patients">Patients</a>
    <a href="/doctors" style="font-weight: bold;">Doctors</a>
    <a href="/appointments">Appointments</a>
</nav>

<div class="content">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>üë®‚Äç‚öïÔ∏è Doctors</h2>
        {{if .IsAdmin}}
            <a href="/doctors/create" class="btn">+ Add New Doctor</a>
        {{end}}
    </div>
    
    {{if .Success}}
        {{if eq .Success "created"}}
            <div class="alert alert-success">‚úì Doctor created successfully!</div>
        {{else if eq .Success "updated"}}
            <div class="alert alert-success">‚úì Doctor updated successfully!</div>
        {{else if eq .Success "deleted"}}
            <div class="alert alert-success">‚úì Doctor deleted successfully!</div>
        {{end}}
    {{end}}
    
    {{if .Doctors}}
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Specialization</th>
                    <th>Experience</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{range .Doctors}}
                <tr>
                    <td>{{.ID}}</td>
                    <td>{{.FirstName}}</td>
                    <td>{{.LastName}}</td>
                    <td>{{.Specialization}}</td>
                    <td>{{.Experience}} years</td>
                    <td>
                        {{if $.IsAdmin}}
                            <a href="/doctors/edit?id={{.ID}}" class="btn" style="padding: 5px 10px; font-size: 12px;">Edit</a>
                            <a href="/doctors/delete?id={{.ID}}" class="btn btn-danger" style="padding: 5px 10px; font-size: 12px;" onclick="return confirm('Are you sure?')">Delete</a>
                        {{else}}
                            <span style="color: #999;">View only</span>
                        {{end}}
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    {{else}}
        <div style="text-align: center; padding: 40px; color: #666;">
            <p>No doctors found.</p>
            {{if .IsAdmin}}
                <a href="/doctors/create" class="btn" style="margin-top: 20px;">Add First Doctor</a>
            {{end}}
        </div>
    {{end}}
</div>
{{end}}